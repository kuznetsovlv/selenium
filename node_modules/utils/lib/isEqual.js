(function () {
	"use strict";
	module.exports = function isEqual (l, r) {
		function isEq(l, r) {
			var tl = typeof l,
			    tr = typeof r;
			if (tl !== tr)
				return false;
			switch (tl) {
			case "string":
			case "number":
			case "boolean":
				return l === r;
			case "object":
				if (l instanceof Array && r instanceof Array) {
					if (l.length !== r.length)
						return false;
					for (var i = 0, e = l.length; i < e; ++i)
						if (!isEq(l[i], r[i]))
							return false;
				} else {
					var keys = [], i = 0;
					for (var n in r)
						keys.push(n);
					for (var n in l)
						if (keys[i++] !== n || !isEq(l[n], r[n]))
							return false;
					return i === keys.length;
				}
			}
			return true;
		}
		return isEq(l, r);
	}
})()