(function () {
	"use strict";
	module.exports = function clone (o, keys, def) {
		if (!o || typeof o !== 'object')
			return o;
		var c = o instanceof Array? [] : {};
		if (keys) {
			keys = keys.split(',');
			for (var i = 0, length = keys.length; i < length; ++i) {
				var key = keys[i];
				if (key in o)
					c[key] = clone(o[key]);
				else if (def)
					c[key] = clone(def.value);
			}
		} else {
			for (var p in o) {
				if (o.hasOwnProperty(p)) {
					var v = o[p];
					if (v && typeof v === 'object')
						c[p] = clone(v);
					else
						c[p] = v;
				}
			}
		}
		return c;
	};
})()